<html>

<head>
    <title>Edit user</title>
    <link href="/assets/style/main.css" rel="stylesheet">
    <link href="/assets/style/menu.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="/error/502/502.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script src="/assets/script/auth.js" type="text/javascript"></script>
    <meta content="Edit users" name="title">
    <meta content="You can edit users here" name="description">
    <meta content="#ffffff" name="theme-color">
</head>

<body style="overflow-x: hidden; overflow-y: auto">
<script>auth(false);</script>
<div id="navdiv" v-html="navbar"></div>
<div id="usr">
    <div v-if="!editMode">
        <div id="wrapper">
            <div class="grid">
                <span class="server"></span>
                <span class="server"></span>
                <span class="server"></span>
                <span class="server"></span>
                <span class="server"></span>
            </div>

            <div class="content">
                <h1>User not found</h1>
            </div>
        </div>
    </div>
    <div class="textview" style="margin-top: 10vmin" v-if="editMode">
        <div class="advice">
            <div class="text" style="width: 50vmax">
                <a>Database ID: {{user._id}}</a>
            </div>
        </div>
        <div v-if="!finished">
            <div class="form__group field">
                <input :value="user.username" class="form__field" id='d' name="Username" placeholder="Username"
                       required
                       type="text" v-model="user.username"/>
                <label class="form__label" for="d">Username</label>
            </div>
            <div class="form__group field">
                <input :value="user.userID" class="form__field" id='s' name="Discord ID" placeholder="Discord ID"
                       required
                       type="text" v-model="user.userID"/>
                <label class="form__label" for="s">Discord ID</label>
            </div>
            <div class="form__group field">
                <input :value="user.coins" class="form__field" id='c' name="Coins" placeholder="Coins" required
                       type="number" v-model="user.coins"/>
                <label class="form__label" for="c">Coins</label>
            </div>
            <div class="form__group field">
                <input :value="user.xp" class="form__field" id='x' name="XP" placeholder="XP" required
                       type="number" v-model="user.xp"/>
                <label class="form__label" for="x">XP</label>
            </div>
            <div class="form__group field">
                <input :value="user.level" class="form__field" id='l' name="Level" placeholder="Level" required
                       type="number" v-model="user.level"/>
                <label class="form__label" for="x">Level</label>
            </div>
            <div class="form__group field">
                <input :value="user.maxMonsters" class="form__field" id='max' name="Max Monsters" placeholder="Max Monsters"
                       required
                       type="number" v-model="user.maxMonsters"/>
                <label class="form__label" for="max">Max Monsters</label>
            </div>
            <div class="form__group field">
                <input :value="user.maxItems" class="form__field" id='mmx' name="Max Items" placeholder="Max Items"
                       required
                       type="number" v-model="user.maxItems"/>
                <label class="form__label" for="mmx">Max Items</label>
            </div>
            <div class="form__group field">
                <input :value="user.maxEnergy" class="form__field" id='mmxx' name="Max Energy" placeholder="Max Energy"
                       required
                       type="number" v-model="user.maxEnergy"/>
                <label class="form__label" for="mmxx">Max Energy</label>
            </div>

            <div v-if="user.isJob">
                <div class="form__group field">
                    <input :value="user.job.jobXP" class="form__field" id='jxp' name="Job XP" placeholder="Job XP"
                           required
                           type="number" v-model="user.job.jobXP"/>
                    <label class="form__label" for="jxp">Job XP</label>
                </div>
                <div class="form__group field">
                    <input :value="user.job.jobLevel" class="form__field" id='jl' name="Job Level" placeholder="Job Level"
                           required
                           type="number" v-model="user.job.jobLevel"/>
                    <label class="form__label" for="jl">Job Level</label>
                </div>
                <div class="form__group field">
                    <input :value="user.job.jobPosition" class="form__field" id='jp' name="Job Position" placeholder="Job Position"
                           required
                           type="text" v-model="user.job.jobPosition"/>
                    <label class="form__label" for="jp">Job Position</label>
                </div>
                <div class="form__group field">
                    <input :value="user.job.jobStreak" class="form__field" id='js' name="Job Streak" placeholder="Job Streak"
                           required
                           type="number" v-model="user.job.jobStreak"/>
                    <label class="form__label" for="js">Job Streak</label>
                </div>
            </div>

        </div>
        <div style="margin-top: 3vmax" v-if="!finished">
            <button @click="editUser()" class="acceptBtn">Update</button>
            <button @click="deleteUser(user._id)" class="denyBtn">Delete</button>
        </div>
        <div class="advice" v-if="submitmsg.length > 0">
            <div class="text">
                {{submitmsg}}
            </div>
        </div>
    </div>
</div>
<script src="mainVue.js"></script>
<script src="/assets/script/navbar.js" type="text/javascript"></script>
</body>
</html>