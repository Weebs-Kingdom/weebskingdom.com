<html>

<head>
    <title>Crafting</title>
    <link rel="stylesheet" href="/assets/style/main.css">
    <link rel="stylesheet" href="/assets/style/menu.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="https://fonts.googleapis.com/css?family=Poppins:600" rel="stylesheet">
    <link href="/assets/style/checkoutbtn.css" rel="stylesheet">
    <script type="text/javascript" src="https://code.jquery.com/jquery-latest.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script type="text/javascript" src="/assets/script/auth.js"></script>
    <meta name="title" content="Weebskingdom.com crafting">
    <meta name="description" content="The website where you put items together for new items">
    <meta name="theme-color" content="#ffffff">
</head>

<body>
<script>auth(true)</script>
<div id="navdiv" v-html="navbar"></div>
<div id="craft">
    <div id="showcase" class="showcase">
        <h1>You've got {{selected.result.itemName}}</h1>
        <img :src="selected.result.itemImageURL">
    </div>
    <div v-if="shown" class="editbox">
        <div class="ct">
            <div class="advice">
                {{selected.result.itemName}}
            </div>
            <div style="position: absolute; left: 49%;">
                <i class="material-icons">construction</i> {{selected.hammerPunches}}
            </div>
            <div class="listBody"><label>Needed:</label>
                <div class="list" style="height: fit-content">
                    <div style="display: flex; flex-flow: wrap" v-for="item in selected.items">
                        {{item.itemName}} {{item.amount}}/{{getAmount(item._id)}}
                    </div>
                </div>
            </div>
            <button style="margin-top: 4vmin" @click="click">
                Craft
            </button>
            <div class="progressContainer">
                <div class="progress">
                    <div class="percent"></div>
                </div>
                <div id="steps" class="steps">
                </div>
            </div>
        </div>
    </div>
    <div class="textview">
        <div v-if="recipes.length > 0" v-for="r in recipes">
            <div class="ct">
                <div class="advice">
                    {{r.result.itemName}}
                </div>
                <div style="position: absolute; left: 49%;">
                    <i class="material-icons">construction</i> {{r.hammerPunches}}
                </div>
                <div class="listBody"><label>Needed:</label>
                    <div class="list" style="height: fit-content">
                        <div style="display: flex; flex-flow: wrap" v-for="item in r.items">
                            {{item.itemName}} {{item.amount}}/{{getAmount(item._id)}}
                        </div>
                    </div>
                </div>
                <button @click="loadCraftingRecipe(r._id)">Craft</button>
            </div>
        </div>
        <a style="margin-top: 10vmin; margin-bottom: 10vmin" class="advice" v-if="recipes.length <= 0">List is empty</a>
    </div>
</div>

<script type="text/javascript" src="/assets/script/navbar.js"></script>
<script type="text/javascript" src="mainvue.js"></script>
</body>

</html>