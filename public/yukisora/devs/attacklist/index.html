<html>

<head>
    <title>Attack List</title>
    <link href="/assets/style/main.css" rel="stylesheet">
    <link href="/assets/style/menu.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script src="/assets/script/auth.js" type="text/javascript"></script>
    <script src="/assets/script/maSearch.js" type="text/javascript"></script>
    <meta content="Attack List" name="title">
    <meta content="You can create attacks here" name="description">
    <meta content="#ffffff" name="theme-color">
</head>

<body>
<script>auth(false);</script>
<div id="navdiv" v-html="navbar"></div>
<div id="attacklist">
    <button @click="create" class="fixedBtn" v-if="!show">Create</button>
    <div class="editbox" v-if="show">
        <div class="ct">
            <button @click="closeEd" class="fixedBtn denyBtn">Close</button>
            <div class="advice">
                <a>
                    {{modeinfo}}
                </a>
                <p v-if="edetingAttack != ''">id: {{edetingAttack}}</p>
            </div>
            <div class="form__group field">
                <input :value="aattackName" class="form__field" id='name' name="Name" placeholder="Name" required
                       type="input" v-model="aattackName"/>
                <label class="form__label" for="name">Name</label>
            </div>
            <div class="form__group field">
                <input :value="abaseDmg" class="form__field" id='baseDmg' name="Base Damage" placeholder="Base Damage"
                       required type="number" v-model="abaseDmg"/>
                <label class="form__label" for="baseDmg">Base Damage</label>
            </div>
            <div class="form__group field">
                <input :value="amaxUsage" class="form__field" id='usage' name="Max Usage" placeholder="Max Usage"
                       required type="number" v-model="amaxUsage"/>
                <label class="form__label" for="usage">Max Usage</label>
            </div>
            <div class="form__group field">
                <select :value="astatusEffect" id="statuseffect" v-model="astatusEffect">
                    <option></option>
                    <option>burn</option>
                    <option>poison</option>
                    <option>freeze</option>
                    <option>paralysis</option>
                    <option>sleep</option>
                    <option>confusion</option>
                </select>
                <label class="form__label" for="statuseffect">Status effect</label>
            </div>
            <div class="form__group field">
                <select :value="aattackType" id="monstertype" v-model="aattackType">
                    <option>normal</option>
                    <option>psychic</option>
                    <option>fighting</option>
                    <option>flying</option>
                    <option>poison</option>
                    <option>ground</option>
                    <option>rock</option>
                    <option>bug</option>
                    <option>ghost</option>
                    <option>steel</option>
                    <option>fire</option>
                    <option>water</option>
                    <option>grass</option>
                    <option>electric</option>
                    <option>ice</option>
                    <option>dragon</option>
                    <option>dark</option>
                    <option>fairy</option>
                </select>
                <label class="form__label" for="monstertype">Attack type</label>
            </div>
            <p class="message" id="msg">{{submitmsg}}</p>
            <div style="margin-top: 6em; display: inline-flex">
                <button @click="submit" class="btn" type="button">Submit</button>
                <button @click="deleteAttack(edetingAttack)" class="denyBtn material-icons" style="margin-left: 1vmin"
                        v-if="editMode">delete
                </button>
            </div>
        </div>
    </div>
    <div class="advice">
        <div class="txt">To search a specific attack use the hotkey: CTRL + F</div>
    </div>
    <div class="advice">
        <div class="txt">
            <input @keyup="searchFc" class="form__field" id='serc' name="Search" placeholder="Search" style="width: 50vmax"
                   type="search" v-model="searchB"/>
        </div>
    </div>
    <div class="listBody">
        <attack :attack="attack" @delete="deleteAttack" @edit="edit" v-for="attack in filteredAttacks"></attack>
    </div>
</div>

<script src="mainvue.js"></script>
<script src="/assets/script/navbar.js" type="text/javascript"></script>
</body>
</html>